<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>POS AREA PRINT DIGITAL</title>
    
    <!-- Bootstrap v-5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    
    <style>
      /* Keperluan Tampilan Depan*/
      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(to bottom right, #f8f9fa, #e9ecef);
        min-height: 100vh;
        padding: 0;
        margin: 0;
      }
      .logo {
        display: block;
        margin: 0 auto 10px auto;
        width: 150px; /* Lebar logo diatur 150px, Anda bisa ubah ini */
        height: auto;
      }

      h2 {
        text-align: center;
      }

      #searchProduk {
        width: 80%;
        max-width: 400px;
        padding: 6px;
        margin: 10px auto;
        display: block;
        border: 1px solid #ccc;
        border-radius: 4px;
        text-align: center;
      }

      .min-width-select {
        min-width: 170px;
      }
      .min-width {
        min-width: 100px;
      }

      .no-wrap {
        white-space: nowrap;  
      }

      /* Tutup Untuk Tampilan Depan */

      /* Untuk Tampilan Struk */

      @media print {
        body > *:not(#print-area) {
          display: none !important; /* Sembunyikan semua elemen kecuali area cetak */
        }

        /* ... CSS sebelumnya ... */

        
    /* 🔑 Kunci: Membuat tabel detail header menjadi 100% */
    .transaction-table {
        width: 100%; /* Lebar Penuh */
        border-collapse: collapse;
        margin-top: 5px;
    }

    .transaction-table td {
        border: none;
        padding: 0 5px; 
        font-size: 10pt;
        text-align: left;
    }
    
    /* Atur lebar kolom label agar sejajar dan tidak pindah baris */
    .transaction-table .label {
        width: 100px; /* Atur lebar tetap yang cukup untuk label terpanjang */
        white-space: nowrap; 
    }
    
    /* Kolom pemisah (:) sangat sempit */
    .transaction-table .separator {
        width: 5px; 
    }

    /* Kolom nilai (`value`) mengisi sisa lebar yang tersedia */
    .transaction-table .value {
        text-align: left;
        width: auto; 
    }

        /* Pengaturan kertas A5 Landscape */
        @page {
          size: A5 landscape;
          margin: 10mm; /* Atur margin cetak */
        }

        #print-area {
          display: block;
          width: 100%;
          font-family: "Courier New", monospace; /* Font monospasi untuk kesan struk */
          font-size: 10pt;
          line-height: 1.5;
          max-width: 210mm; /* Lebar maksimum A5 landscape */
        }

        .header-info {
          text-align: center;
          margin-bottom: 10px;
        }

        
        .dashed-line {
            /* Garis ini akan mengisi lebar 100% dari struk */
            width: 100%; 
            height: 1px;
            /* Membuat garis putus-putus dengan border */
            border-top: 1px dashed #000; 
            margin: 5px 0; /* Memberi jarak atas dan bawah */
        }

        .transaction-details,
        .summary-details {
          width: 100%;
          /* display: flex; /* Alternatif: menggunakan flexbox */
          /* justify-content: space-between; */
        }

        .detail-line {
          display: flex;
          justify-content: space-between;
        }

        .detail-label {
          width: 150px; /* Lebar label yang tetap */
          text-align: left;
        }

        .detail-value {
          text-align: right;
          flex-grow: 1; /* Mengisi sisa ruang */
        }

        .product-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .product-table th,
        .product-table td {
          border: none;
          padding: 2px 5px;
          text-align: left;
          font-size: 10pt;
        }

        .product-table .text-center {
          text-align: center;
        }
        .product-table .text-right {
          text-align: right;
        }

        .footer-note {
          text-align: center;
          margin-top: 10px;
          font-size: 9pt;
        }
      }

      /* Tutup Tampilan Struk */
    </style>

  </head>
  <body >

    <div id="print-area" style="display: none"></div>
    <div class="container mt-0 mb-4">
        <div class="mx-auto head mb-md-4 mb-3 bg-info pb-md-4 pb-3 pt-md-3 p-2 rounded" style="max-width: 450px;">
          <img src="./Logo Area Print Digital.png" alt="Logo Area Print Digital" class="logo"/>
          <h2 class="text-white"><b>POS AREA PRINT DIGITAL</b></h2>
        </div>

        <form id="kasirForm">
          <div class="row justify-content-md-start mb-md-0 mb-3">
              <div class="content-item col-auto mb-sm-3 mb-2">
                <label>No Transaksi:</label>
                <div class="input-group input-group-sm">
                  <span class="input-group-text" id="basic-addon1">INV/ADP/SL/</span>
                  <input type="text" class="form-control form-control-sm" placeholder="00001" aria-label="noTransaksi" name="no" aria-describedby="basic-addon1" style="max-width: 80px;" required>
                </div>
                  <!-- <label>No Transaksi:</label>
                  <div class="d-flex">
                      <input class="form-control form-control-sm" type="text" value="INV/ADP/SL/" style="width: 100px;" readonly />
                      <input class="form-control form-control-sm" type="text" name="no" style="max-width: 80px;" placeholder="00001" required />
                  </div> -->
              </div>
              <div class="content-item col-auto mb-sm-0 mb-2">
                  <label>Tanggal:</label>
                  <input  class="form-control form-control-sm" type="date" id="tanggal" name="tanggal" required readonly />
              </div>
              <div class="content-item col-auto mb-sm-0 mb-2">
                  <label>Customer:</label>
                  <input class="form-control form-control-sm" type="text" name="customer" required />
              </div>
          </div>

          <!-- Produk -->
          <div class="card mb-md-4 mb-3">
            <div class="card-header bg-info">
              <div class="row align-items-center justify-content-center">
                <div class="col-md-6 col-auto">
                  <h5 class="mb-0 text-white"><b>Pencarian Produk</b></h5>
                </div>
                <div class="col-md-6 col-auto">
                    <input type="text" id="searchProduk" class="form-control form-control-sm m-0 ms-sm-auto mx-auto mx-sm-0" onkeyup="cariProduk()"/>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" id="produkTable">
                    <thead>
                    <tr>
                        <th class="no-wrap">Produk</th>
                        <th class="no-wrap">Qty</th>
                        <th class="no-wrap">Panjang</th>
                        <th class="no-wrap">Lebar</th>
                        <th class="no-wrap">Volume</th>
                        <th class="no-wrap">Harga</th>
                        <th class="no-wrap">Potongan Promo</th>
                        <th class="no-wrap">Jumlah Harga</th>
                        <th class="no-wrap">Hapus</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
              </div>
            </div>
            <div class="card-footer">
              <button type="button" class="btn btn-success d-flex text-white align-items-center" onclick="tambahProduk()">
              <i class="bi bi-plus-circle-fill fs-5 me-2"></i>Tambah Produk</button>
            </div>
          </div>

          <!-- kotak pencarian produk -->
          <div class="row">
            <div class="col-md-4 col-12">
              <div class="card">
                <div class="card-header bg-info">
                  <h5 class="mb-0 text-white"><b>Perhitungan</b></h5>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="mb-3">
                      <label>Total:</label>
                      <div class="input-group input-group-sm">
                        <span class="input-group-text" id="basic-addon1">Rp</span>
                        <input type="text" class="form-control form-control-sm text-end" id="total" name="total" aria-label="noTransaksi" aria-describedby="basic-addon1" required>
                      </div>
                      <!-- <input type="number" class="form-control form-control-sm" id="total" name="total" readonly value="0"/> -->
                    </div>
                    <div class="mb-3">
                      <label>Terbayar:</label>
                      <div class="input-group input-group-sm">
                        <span class="input-group-text" id="basic-addon1">Rp</span>
                        <input type="text" class="form-control form-control-sm text-end" name="terbayar" aria-label="noTransaksi" aria-describedby="basic-addon1" required>
                      </div>
                      <!-- <input type="number" class="form-control form-control-sm" name="terbayar" value="0" /> -->
                    </div>
                    <div class="mb-3">
                      <label>Sisa Pelunasan:</label>
                      <div class="input-group input-group-sm">
                        <span class="input-group-text" id="basic-addon1">Rp</span>
                        <input type="text" class="form-control form-control-sm text-end" id="sisaPelunasan" name="sisaPelunasan" aria-label="noTransaksi" aria-describedby="basic-addon1" required>
                      </div>
                      <!-- <input type="number" class="form-control form-control-sm" id="sisaPelunasan" name="sisaPelunasan" readonly value="0"/> -->
                    </div>
                    <div class="mb-3">
                      <label>Status:</label>
                      <select name="status" class="form-control form-control-sm text-center" id="">
                          <option value="LUNAS">Lunas</option>
                          <option value="BELUM BAYAR" selected>Belum Bayar</option>
                          <option value="DP">DP</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="">Nama Petugas</label>
                      <input type="text" name="namapetugas" class="form-control form-control-sm" required />
                    </div>
                  </div>
                </div>
                <div class="card-footer">
                  <button type="submit" class="btn btn-success d-flex align-items-center text-white">
                    <i class="bi bi-bookmark-fill fs-5 me-2"></i>Simpan & Cetak Struk
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
    </div>

    <script>
      const inputTanggal = document.getElementById("tanggal");
      const today = new Date();

      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const dd = String(today.getDate()).padStart(2, '0');

      inputTanggal.value = `${yyyy}-${mm}-${dd}`;
  </script>

    <script>
      const API_URL = "/api";
      let produkMaster = [];
      const tableBody = document.querySelector("#produkTable tbody");
      const terbayarInput = document.querySelector("input[name='terbayar']");
      function parseAngka(str) {
        // PERBAIKAN DI SINI: Mengubah koma (,) menjadi titik (.)
        const val = String(str || "0").replace(/,/g, ".");
        return parseFloat(val) || 0;
      }
      function hapusRow(btn) {
        btn.closest("tr").remove();
        hitungTotal();
      }
      function updateHarga(selectElement) {
        const row = selectElement.closest("tr");
        const selectedOption =
          selectElement.options[selectElement.selectedIndex];
        const harga = selectedOption.dataset.harga || 0;
        row.cells[5].querySelector("input").value = harga;
      }
      function hitungJumlah(row) {
        // PERBAIKAN: Input dari Panjang dan Lebar harus dibersihkan sebelum di-parse
        const panjangValue = row.cells[2].querySelector("input").value;
        const lebarValue = row.cells[3].querySelector("input").value; // Ambil nilai yang sudah diolah dengan parseAngka

        const qty = parseAngka(row.cells[1].querySelector("input").value);
        const panjang = parseAngka(panjangValue); // MENGGUNAKAN parseAngka (sudah ada .replace di dalamnya)
        const lebar = parseAngka(lebarValue); // MENGGUNAKAN parseAngka
        const harga = parseAngka(row.cells[5].querySelector("input").value);
        const potongan = parseAngka(row.cells[6].querySelector("input").value); // Logika Volume: (Panjang * Lebar), jika kedua input kosong atau 0, volume menjadi 1
        const volume = panjang > 0 || lebar > 0 ? panjang * lebar : 1;
        row.cells[4].querySelector("input").value = volume.toFixed(2); // Diberi toFixed(2) untuk tampilan konsisten
        const jumlah = qty * volume * (harga - potongan);
        row.cells[7].querySelector("input").value = jumlah.toFixed(0);
        hitungTotal();
      }
      function hitungTotal() {
        let total = 0;
        tableBody
          .querySelectorAll("input[name='jumlahHarga[]']")
          .forEach((i) => (total += parseAngka(i.value)));
        document.getElementById("total").value = total.toFixed(0);
        hitungTotal(); // PANGGILAN REPETITIF, TAPI DIBIARKAN AGAR TIDAK MENGACAK-ACAK SCRIPT ANDA
      }
      function hitungTotal() {
        let total = 0;
        tableBody
          .querySelectorAll("input[name='jumlahHarga[]']")
          .forEach((i) => (total += parseAngka(i.value)));
        document.getElementById("total").value = total.toFixed(0);
        const terbayar = parseAngka(terbayarInput.value);
        document.getElementById("sisaPelunasan").value = (
          total - terbayar
        ).toFixed(0);
        const statusSelect = document.querySelector("select[name='status']");
        if (terbayar >= total) {
          statusSelect.value = "LUNAS";
        } else if (terbayar > 0 && terbayar < total) {
          statusSelect.value = "DP";
        } else {
          statusSelect.value = "BELUM BAYAR";
        }
      }
      function buatDropdownProduk() {
        let select =
          "<select class='form-control form-control-sm min-width-select' name='produk[]' onchange='updateHarga(this); hitungJumlah(this.closest(\"tr\"))'>";
        if (produkMaster.length === 0) {
          select += '<option value="">(Memuat Produk...)</option>';
        }
        select += '<option value="">-- Pilih Produk --</option>';
        produkMaster.forEach((p) => {
          select += `<option value="${p.produk}" data-harga="${p.harga}">${
            p.produk
          } (Rp ${p.harga.toLocaleString("id-ID")})</option>`;
        });
        select += "</select>";
        return select;
      }
      function tambahProduk() {
        const newRow = tableBody.insertRow();
        newRow.insertCell(0).innerHTML = buatDropdownProduk();
        newRow.insertCell(1).innerHTML =
          '<input type="number" class="form-control form-control-sm min-width" name="qty[]" value="1" min="1" onchange="hitungJumlah(this.closest(\'tr\'))">';
        newRow.insertCell(2).innerHTML =
          '<input type="text" class="form-control form-control-sm min-width" name="panjang[]" value="0" onchange="hitungJumlah(this.closest(\'tr\'))">';
        newRow.insertCell(3).innerHTML =
          '<input type="text" class="form-control form-control-sm min-width" name="lebar[]" value="0" onchange="hitungJumlah(this.closest(\'tr\'))">';
        newRow.insertCell(4).innerHTML =
          '<input type="text" class="form-control form-control-sm min-width" name="volume[]" value="1" readonly>';
        newRow.insertCell(5).innerHTML =
          '<input type="number" class="form-control form-control-sm min-width" name="harga[]" value="0" readonly>';
        newRow.insertCell(6).innerHTML =
          '<input type="number" class="form-control form-control-sm min-width" name="potongan[]" value="0" onchange="hitungJumlah(this.closest(\'tr\'))">';
        newRow.insertCell(7).innerHTML =
          '<input type="number" class="form-control form-control-sm min-width" name="jumlahHarga[]" value="0.00" readonly>';
        newRow.insertCell(8).innerHTML =
          '<button type="button" class="btn btn-danger" onclick="hapusRow(this)">X</button>';
        const firstSelect = newRow.cells[0].querySelector("select");
        if (firstSelect && produkMaster.length > 0) {
          firstSelect.selectedIndex = 1;
          updateHarga(firstSelect);
          hitungJumlah(newRow);
        }
      }
      function ambilProduk() {
        fetch(API_URL)
          .then((res) => res.json())
          .then((data) => {
            if (data.error) {
              throw new Error(data.detail || data.error);
            }
            produkMaster = data;
            tambahProduk();
          })
          .catch((err) => {
            console.error("Fetch Error:", err);
            alert(
              "❌ Gagal ambil produk dari Spreadsheet. Cek console untuk detail."
            );
          });
      }
      ambilProduk();
      document
        .getElementById("kasirForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          if (
            tableBody.children.length === 0 ||
            parseAngka(document.getElementById("total").value) === 0
          ) {
            alert(
              "Transaksi minimal harus memiliki satu produk dan Total tidak boleh nol."
            );
            return;
          }
          const form = new FormData(this);
          const data = {
            no: 'INV/ADP/SL/' + form.get("no"),
            tanggal: form.get("tanggal"),
            customer: form.get("customer"),
            total: parseAngka(document.getElementById("total").value),
            terbayar: parseAngka(form.get("terbayar")),
            sisaPelunasan: parseAngka(
              document.getElementById("sisaPelunasan").value
            ),
            status: form.get("status"),
            namapetugas: form.get("namapetugas"),
            produkList: [],
          };
          tableBody.querySelectorAll("tr").forEach((r) => {
            data.produkList.push({
              produk: r.cells[0].querySelector("select").value,
              qty: parseAngka(r.cells[1].querySelector("input").value),
              panjang: r.cells[2].querySelector("input").value,

              lebar: r.cells[3].querySelector("input").value,
              jumlahVolume: parseAngka(r.cells[4].querySelector("input").value),
              harga: parseAngka(r.cells[5].querySelector("input").value),
              potongan: parseAngka(r.cells[6].querySelector("input").value),
              jumlahHarga: parseAngka(r.cells[7].querySelector("input").value),
            });
          });
          fetch(API_URL, {
            method: "POST",
            body: JSON.stringify(data),
            headers: { "Content-Type": "application/json" },
          })
            .then((res) => res.json())
            .then((response) => {
              if (response.status === "OK") {
                alert("✅ Transaksi berhasil disimpan ke Spreadsheet!");
                cetakStruk()
              } else {
                throw new Error(
                  response.message || "Pesan error tidak diketahui."
                );
              }
            })
            .catch((err) => {
              console.error("Submission Error:", err);
              alert(`❌ Error simpan transaksi! Detail: ${err.message}`);
            });
        }); // Menghubungkan input Terbayar dengan hitungTotal
      terbayarInput.addEventListener("change", hitungTotal);
      terbayarInput.addEventListener("keyup", hitungTotal); // Fungsi cetak struk (masih sederhana, hanya print browser)
      function cetakStruk() {
        window.print();
      }
      function cariProduk() {
        const input = document
          .getElementById("searchProduk")
          .value.toLowerCase();
        const selects = document.querySelectorAll("select[name='produk[]']");
        selects.forEach((select) => {
          for (let i = 0; i < select.options.length; i++) {
            const txt = select.options[i].text.toLowerCase();
            select.options[i].style.display =
              input === "" || txt.includes(input) ? "" : "none";
          }
        });
      }
    </script>

    <script>

      // ... (Pastikan semua fungsi dan variabel lain dari script asli ada di sini,
      //      terutama hitungTotal(), parseAngka(), tableBody, dan document.getElementById("total") dll.)

      // Asumsi fungsi 'hitungTotal()' sudah dipanggil saat data berubah
      // dan input 'total', 'terbayar', 'sisaPelunasan', 'status', 'no', 'tanggal',
      // 'customer', dan 'namapetugas' sudah memiliki nilai yang benar.

      function formatRupiah(number) {
        const num = parseAngka(number);
        return (
          "Rp " +
          num.toLocaleString("id-ID", {
            minimumFractionDigits: 0,
            maximumFractionDigits: 0,
          })
        );
      }

      function cetakStruk() {
        const printArea = document.getElementById("print-area");

        // Ambil data transaksi dari form
        const noTrans =
          document.querySelector("input[name='no']").value || "N/A";
        const tanggal =
          document.querySelector("input[name='tanggal']").value || "N/A";
        const customer =
          document.querySelector("input[name='customer']").value || "-";
        const petugas =
          document.querySelector("input[name='namapetugas']").value || "N/A";
        const total = document.getElementById("total").value;
        const terbayar = document.querySelector("input[name='terbayar']").value;
        const sisa = document.getElementById("sisaPelunasan").value;
        const status = document.querySelector("select[name='status']").value;

        let produkRows = "";
        let tableData = [];

        // Ambil data produk
        tableBody.querySelectorAll("tr").forEach((r) => {
          const qty = r.cells[1].querySelector("input").value;
          const ukuran =
            r.cells[2].querySelector("input").value +
            "x" +
            r.cells[3].querySelector("input").value;
          const produk = r.cells[0].querySelector("select").value;
          const harga = r.cells[5].querySelector("input").value;
          const potongan = r.cells[6].querySelector("input").value;
          const jumlahHarga = r.cells[7].querySelector("input").value;

          tableData.push({
            produk: produk || "(Produk Kosong)",
            qty: parseAngka(qty),
            ukuran: ukuran,
            harga: parseAngka(harga),
            potongan: parseAngka(potongan),
            jumlah: parseAngka(jumlahHarga),
          });
        });

        // Format data produk ke dalam baris HTML yang sesuai dengan gambar
        // Perhatikan layout yang lebih sederhana di gambar: Produk | Qty | Ukuran | Harga | Pot | Jumlah
        tableData.forEach((item) => {
          produkRows += `
            <tr>
                <td>${item.produk}</td>
                <td class="text-center">${item.qty}</td>
                <td class="text-center">${item.ukuran}</td>
                <td class="text-right">${formatRupiah(item.harga).replace(
                  "Rp ",
                  ""
                )}</td>
                <td class="text-right">${formatRupiah(item.potongan).replace(
                  "Rp ",
                  ""
                )}</td>
                <td class="text-right">${formatRupiah(item.jumlah).replace(
                  "Rp ",
                  ""
                )}</td>
            </tr>
            `;
        });

        // Pastikan format tanggal sesuai gambar: YYYY-MM-DD
        const formattedDate = tanggal; // Gambar menggunakan format YYYY-MM-DD

        // Buat konten HTML untuk struk
        const receiptHTML = `
            <div class="header-info">
                <strong>Area Print Digital</strong><br>
                Jl. Margonda Raya No. 395F<br>
                Telp. 085156114556<br>
                www.areaprintdigital.com
            </div>
            
            <div class="dashed-line"></div>
            
            <table class="transaction-table">
                <tr>
                    <td class="label">No Transaksi</td>
                    <td class="separator">:</td>
                    <td class="value">INV/ADP/SL/${noTrans}</td>
                </tr>
                <tr>
                    <td class="label">Tanggal</td>
                    <td class="separator">:</td>
                    <td class="value">${formattedDate}</td>
                </tr>
                <tr>
                    <td class="label">Customer</td>
                    <td class="separator">:</td>
                    <td class="value">${customer}</td>
                </tr>
                <tr>
                    <td class="label">Petugas</td>
                    <td class="separator">:</td>
                    <td class="value">${petugas}</td>
                </tr>
            </table>
            
            <div class="dashed-line"></div>
            
            <table class="product-table">
                <thead>
                    <tr>
                        <th style="width: 40%; text-align: left;">Produk</th>
                        <th class="text-center" style="width: 5%;">Qty</th>
                        <th class="text-center" style="width: 10%;">Ukuran</th>
                        <th class="text-right" style="width: 15%;">Harga</th>
                        <th class="text-right" style="width: 10%;">Pot.</th>
                        <th class="text-right" style="width: 20%;">Jumlah</th>
                    </tr>
                </thead>
                <tbody>
                    ${produkRows}
                </tbody>
            </table>

            <div class="dashed-line"></div>
            
            <div class="summary-details">
                <div class="detail-line"><span class="detail-label" style="text-align: right;">Total</span><span class="detail-value">${formatRupiah(total)}</span></div>
                <div class="detail-line"><span class="detail-label" style="text-align: right;">Terbayar</span><span class="detail-value">${formatRupiah(terbayar)}</span></div>
                <div class="detail-line"><span class="detail-label" style="text-align: right;">Sisa</span><span class="detail-value">${formatRupiah(sisa)}</span></div>
                <div class="detail-line"><span class="detail-label" style="text-align: right;">Status</span><span class="detail-value">${status}</span></div>
            </div>
            
            <div class="dashed-line"></div>
            
            <div class="receipt-container" style="text-align:center;">
            
                
                <p style="margin-top: 10px; font-size: 10pt;">Barang yang sudah dibeli tidak bisa dikembalikan</p>
                <p style="margin-top: 5px; font-size: 10pt;">Terima Kasih</p>
            </div>
        `;

        printArea.innerHTML = receiptHTML;
        printArea.style.display = "block";

        // Panggil fungsi cetak bawaan browser
        window.print();

        // Sembunyikan kembali area cetak setelah print/cancel
        printArea.style.display = "none";
      }
      
    </script>
  </body>
</html>
